
<!-- GITHUB for AR component-->
<!-- https://github.com/AR-js-org/AR.js -->
<!-- Additional info and examples -->

<!-- Notes: This will work on Android but NOT directly on iOS (for the moment). Download the app XRviewer from the App Store and paste in the URL -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>WebXR A-frame</title>
    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
    <script src="code.js" ></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <a-scene>
      <!-- Place an object or objects in the scene-->
      <a-entity id="sculpture" position="0 0 -3">
        <!-- Upper Block -->
        <a-entity id="upperBlock" position="0 6 0" rotation="180 0 0">
            <a-box id="block_top" width="0.75" depth="0.75" height="1.5" position="0 1.75 0" color="#ffff55" ></a-box>
            <a-entity animation="property:rotation; to: 0 360 0; dur: 2000; loop:true; easing:linear;">
                <a-box id="plate_top" width="0.75" depth="0.75" height="0.05" position="0 0.75 0" color="#bb3300" ></a-box>
                <a-sphere color="#ff8800" radius="0.1" position="0.25 0.6 0.25" ></a-sphere>
                <a-sphere color="#ff8800" radius="0.1" position="0.25 0.6 -0.25" ></a-sphere>
                <a-sphere color="#ff8800" radius="0.1" position="-0.25 0.6 0.25" ></a-sphere>
                <a-sphere color="#ff8800" radius="0.1" position="-0.25 0.6 -0.25" ></a-sphere>
                <a-cone id="pyramid_top" segments-radial="4" radius-bottom="0.5" height="0.5" position="0 0.25 0" rotation="0 45 180" color="#0044dd" ></a-cone>
            </a-entity>
        </a-entity>
        <!-- Center Gem -->
        <a-sphere id="center" radius="0.3" scale="1 1.25 1" segments-width="8" segments-height="2" position="0 3 0" material="flatShading: true" color="#559900" animation="property:rotation; to: 0 360 0; dur: 4000; loop:true; easing:linear;"></a-sphere>
        <!-- Bottom Block -->
        <a-entity id="lowerBlock" position="0 0 0">
            <a-box id="block_btm" width="0.75" depth="0.75" height="1.5" position="0 1.75 0" color="#ffff55" ></a-box>
            <a-entity animation="property:rotation; to: 0 360 0; dur: 2000; loop:true; easing:linear;">
                <a-box id="plate_btm" width="0.75" depth="0.75" height="0.05" position="0 0.75 0" color="#bb3300" ></a-box>
                <a-sphere color="#ff8800" radius="0.1" position="0.25 0.6 0.25" ></a-sphere>
                <a-sphere color="#ff8800" radius="0.1" position="0.25 0.6 -0.25" ></a-sphere>
                <a-sphere color="#ff8800" radius="0.1" position="-0.25 0.6 0.25" ></a-sphere>
                <a-sphere color="#ff8800" radius="0.1" position="-0.25 0.6 -0.25" ></a-sphere>
                <a-cone id="pyramid_btm" segments-radial="4" radius-bottom="0.5" height="0.5" position="0 0.25 0" rotation="0 45 180" color="#0044dd" ></a-cone>
            </a-entity>
        </a-entity>
        <!-- Bouncing Rings -->
        <a-torus id="ring1" radius="0.6" radius-tubular="0.02" position="0 1 0" rotation="90 0 0" color="pink" animation="property:position; to: 0 5 0; loop: true; dur: 1000; easing: easeInOutQuad; dir: alternate;"></a-torus>
        <a-torus id="ring2" radius="0.6" radius-tubular="0.02" position="0 2.5 0" rotation="90 0 0" color="pink" animation="property:position; to: 0 3.5 0; loop: true; dur: 500; easing: easeInOutQuad; dir: alternate;"></a-torus>
        <a-torus id="ring3" radius="0.6" radius-tubular="0.02" position="0 5 0" rotation="90 0 0" color="pink" animation="property:position; to: 0 1 0; loop: true; dur: 1000; easing: easeInOutQuad; dir: alternate;"></a-torus>
    </a-entity>
      
      <!-- add a plane to act as a shadow catcher for the AR -->
      <a-plane height="15" width="15" position="0 0 -3" rotation="-90 0 0"
               shadow="receive: true;"
               ar-shadows="opacity: 0.3"
               visible="false"></a-plane>
               
      <!--  Environment component for 2D (desktop & magic window) and VR viewing. 
            Auto-hidden when in AR mode (see component). -->
      <a-entity environment="preset: arches; lighting: none; shadow: none; lightPosition: 0 2.15 0"
                hide-in-ar-mode></a-entity>
      <!-- Custom Camera -->
      <!-- <a-camera position="0 1.65 0"></a-camera> -->
      <a-camera position="0 1.65 0"></a-camera>
      
      <!-- Custom Lights -->
      <a-light id="ambientLight" type="ambient" intensity="0.5"></a-light>
      <a-light  id="sunlight"
                type="directional"
                light="castShadow: true;
                      shadowMapHeight: 1024;
                      shadowMapWidth: 1024;
                      shadowCameraLeft: -7;
                      shadowCameraRight: 5;
                      shadowCameraBottom: -5;
                      shadowCameraTop: 5;"
               target="box"
               position="-5 3 1.5"></a-light>
    </a-scene>

    <!--  html & CSS overlay (could include buttons)
          NOTE: will not work in VR mode -->
    <div id="text">
      <h1>A-frame Artifact for VR/AR</h1>
      
      <p>
        To try WebXR's experimental AR mode, use an Android phone with Chrome v79+ and enable <b>WebXR AR Module</b> in chrome://flags.<br><br>OR<br><br>For Apple iOS and Safari, download the WebXR <b>XRViewer</b>  from the Apple App Store.
      </p>
      
      <p>
        Powered by <a href="https://aframe.io/blog/aframe-v1.0.0/">A-Frame v1.0.0</a>.
      </p>
    </div>
</body>
</html>